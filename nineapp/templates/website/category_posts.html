{# template "website/category_posts.html" #}

{% extends "layouts/category.html" %}


{%block title%}
  {{category.name}}
{%endblock%}

{%block content %}

<style type="text/css">
  
.row {
  margin: 0rem;
}


.box {
  background: #fff;
  border-radius: 0.3rem;
  height: 15rem;
  width: 15rem;
}
.button:focus{
  outline: none;
}
.button:after {
  content: "";
  background: #90EE90;
/*
  position: absolute;
  padding-top: 300%;
  padding-left: 350%;
  margin-left: -20px!important;
  margin-top: -120%;
  */
  opacity: 0;
  outline: none;
  transition: all 0.8s
}

.button:active:after {
  padding: 0;
  outline: none;
  margin: 0;
  opacity: 1;
  transition: 0s
}
 .avatar{
  margin-right: .25em;
  display: inline-block;
  width: 2em;
  height: 2em;
  border-radius: 500rem;
  
  /*margin-bottom: 0em;*/
}


</style>


{% load static %}


  {%if not posts %}
    <div class="row">
      <div class="jumbotron text-center bg-light">
        <h3 class="h3">Nothing to Show Yet</h3>
        <p> If you have reasonable posts you can join our community to update us </p>
        <p>Thanks ...</p>
      </div>
    </div>

  {%else%}
  <h4 class="p-title mt-50"><b>{{category.name}}</b></h4>
  <div class="row">
    {%for post in posts %}
      <div class="col-md-6 col-sm-8 col-lg-4">
       
            <div class="row">
              <a href="{% url 'getpost' post.slug %}">
              <div class="box shadow mb-0 mr-6">
                <img src="{{post.photos.url}}" width="200" height="200">
                <div class="d-flex justify-content-between mt-2">
                

                <div class="float-left">
                  <b>{{post.topic | truncatechars:23}}</b>
                </div>
              
                <div class="float-end">
                  <small>
                    <h5><b>{{post.likes_on_post.num_of_likes}}</b> <i class="fa fa-2x fa-thumbs-up" style="color: gray;"></i></h5>
                  </small>
                </div>
            
            </div>
           
          </div>
          </a>
            
       </div>
       
                  <div class="d-flex justify-content-between mt-2">   
                   
                    <div class="float-left"> 
                    {% if post.post_by.profile.picture %}
                      <img src="{{post.post_by.profile.picture.url}}" class="rounded-circle img-thumbnail avatar"/>
                    {%else%}
                      <img src="{% static 'images/icon.jpg' %}" 
                        class="rounded-circle img-thumbnail avatar mr-4">
                    |
           
           <br>

            {%endif%}
            <p style="font-size: 0.8em">
              <b>{{post.post_by.get_full_name | truncatechars:15}}</b>
            </p>
         </div>
         <center>
         </center>
      <div class="float-right mr-3">
           
               <small style="color: red">
            {%include 'includes/svg_clap.html'%}
     
                     __ {{post.clap.num_claps}} | NumFilter__

               
                 </small>

                
          </div>
        </div>
          
          
             
 
             
      
        </div>
          
      
     
    {% endfor %}
  </div>


    

  {% endif %}
{%endblock%}
